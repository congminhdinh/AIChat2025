@startuml system_architecture_context
'*****************************************************
' AIChat2025 - System Context Diagram (C4 Level 1)
' Purpose: Show system boundary and external actors
' Chapter: Chapter 4 - Design & Implementation
'*****************************************************

!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml

' LAYOUT_WITH_LEGEND()

title System Context Diagram - AIChat2025

Person(employee, "Nhân viên", "Employee who asks questions about company rules and labor law")
Person(admin, "HR/Admin", "Manages documents, configurations, and users")
Person(sysadmin, "System Admin", "Manages tenants and system-level settings")

System(aichat, "AIChat2025", "Multi-tenant RAG-based Legal Advisory Chatbot System\n\nProvides:\n- Chat interface with real-time responses\n- Document upload and vectorization\n- Dual-RAG search (company + legal)\n- Multi-tenant data isolation")

System_Ext(email, "Email Service", "SendGrid/SMTP (future)")
System_Ext(sso, "SSO Provider", "Azure AD/OAuth (future)")

Rel(employee, aichat, "Asks questions via web chat", "HTTPS/WebSocket")
Rel(admin, aichat, "Uploads documents, manages configs", "HTTPS")
Rel(sysadmin, aichat, "Manages tenants", "HTTPS")

Rel_Back(aichat, email, "Sends notifications", "SMTP (future)")
Rel(aichat, sso, "Authenticates users", "OAuth 2.0 (future)")

note right of aichat
  **Key Features:**
  - Multi-tenant (isolated data per company)
  - RAG with Vietnamese LLM (Vistral)
  - Vector search (Qdrant)
  - Real-time chat (SignalR)
  - Background vectorization (Hangfire)
end note

note as N1
  **Current Scope:**
  - Self-contained system
  - No external integrations
  - Cookie + JWT authentication

  **Future Integrations:**
  - Email notifications
  - SSO (Azure AD, Google)
  - Mobile app
end note

@enduml
