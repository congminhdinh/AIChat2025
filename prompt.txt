
Task: Update the Chat view (and relevant Partial View) in project WebApp to handle enhanced MessageDto logic for the RAG system.

Requirements:

Reference Documentation Logic: > - Check the ReferenceDocList within the MessageDto.

If the list contains elements, append a section at the bottom of the bot's message bubble titled: "Tài liệu tham khảo:".

Render this as a numbered list: 1. (DocumentName), 2. (DocumentName), etc..


Each document name must be a hyperlink. Construct the URL using the format: {ImageBaseUrl}{FilePath}.

Text Formatting:

The system must correctly handle newline characters (\n) within the message content. - In the Razor view or via JavaScript injection, ensure every \n is converted into a functional line break (e.g., using <br/> or CSS white-space: pre-line) to maintain message structure.

Architectural Consistency: - Ensure this logic is applied within the Partial View responsible for rendering chat messages, following our Partial Injection pattern. - If the message is rendered client-side after an AJAX call, update the JavaScript template logic to match these requirements.



Files to inspect: > - Look for the Chat Controller, the MessageDto definition, and the .cshtml files related to the Chat interface (e.g., _ChatMessagePartial.cshtml or Index.cshtml).